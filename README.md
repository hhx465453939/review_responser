# 审稿回复准备与数据处理分析系统

## 项目概述

本项目是一个基于Claude Code的智能审稿回复准备与数据处理分析系统，旨在帮助研究人员高效处理审稿意见，生成专业的回复文档，并提供全面的数据分析支持。

## 核心功能

### 🤖 智能意见处理（优化版）
- 自动提取和分类审稿意见
- **识别技术误解vs实质问题**（新增）
- 识别意见的严重程度和优先级
- 建立意见与论文内容的关联
- **评估发表影响程度**（新增）

### 📝 专业回复生成（优化版）
- 基于论文内容生成个性化回复
- **简洁专业风格，避免过度谦卑**（优化）
- **优先澄清误解，最小化修改承诺**（新增）
- **精确的Section定位引用**（新增）
- 提供具体的修改建议

### 📊 数据分析统计
- 审稿意见类型分布统计
- 回复质量自动评估
- **误解vs实质问题比例分析**（新增）
- 生成可视化分析报告

### 🎯 上下文管理
- 智能处理长文本论文
- **基于论文结构索引的精确定位**（新增）
- 多轮对话状态跟踪
- 增量式处理和更新

## 快速开始

### 1. 环境准备
确保已安装Claude Code，无需额外依赖。

### 2. 数据准备
将以下文件放入相应目录：

> **📌 重要提示**：虽然系统支持多种文件格式，但**强烈建议使用Markdown格式**（.md文件）作为AI阅读的最佳格式。Markdown格式具有最好的解析准确性和处理效率。

```
data/input/
├── review_comments/     # 审稿意见文件（推荐：Markdown格式，支持PDF、Word、文本格式）
├── manuscripts/         # 论文原文件（推荐：Markdown格式，支持PDF、Word、LaTeX格式）
└── metadata/            # 元数据文件（可选，推荐：JSON或Markdown格式）
```

**格式优先级建议**：
1. **🥇 Markdown (.md)** - 最佳推荐，解析准确率最高
2. **🥈 文本 (.txt)** - 次优选择，处理速度快
3. **🥉 PDF/Word/LaTeX** - 兼容支持，需要额外转换处理

### 3. 基本使用

#### 处理审稿意见
```bash
# 使用自然语言指令
"请分析data/input/review_comments/目录下的审稿意见文件"

# 系统将自动：
# 1. 提取结构化意见信息
# 2. 分类和评估严重程度
# 3. 保存处理结果到data/processed/extracted_comments/
```

#### 分析论文内容
```bash
# 指令示例
"请分析data/input/manuscripts/目录下的论文文件"

# 系统将自动：
# 1. 提取论文结构和关键信息
# 2. 分析研究方法和结果
# 3. 保存分析结果到data/processed/analyzed_content/
```

#### 生成回复文档
```bash
# 指令示例
"基于已分析的数据生成审稿回复文档"

# 系统将自动：
# 1. 匹配置论文内容与审稿意见
# 2. 生成专业的回复内容
# 3. 输出完整的回复文档到data/output/responses/
```

#### 生成分析报告
```bash
# 指令示例
"生成本次审稿处理的数据分析报告"

# 系统将自动：
# 1. 统计审稿意见类型分布
# 2. 评估回复质量
# 3. 生成可视化报告到data/output/reports/
```

## 高级功能

### 自定义配置
编辑`config/settings.json`文件来自定义处理规则：

```json
{
  "processing": {
    "batch_size": 10,
    "quality_threshold": 0.8,
    "output_format": "markdown"
  },
  "analysis": {
    "enable_statistics": true,
    "generate_charts": true,
    "include_recommendations": true
  }
}
```

### 批量处理
```bash
# 批量处理多个审稿文件
"请批量处理data/input/review_comments/目录下的所有文件"

# 系统将自动处理所有文件并生成汇总报告
```

### 模板定制
在`prompts/templates/`目录下创建自定义模板：

```markdown
# 我的回复模板
## 意见{{comment_id}}回复
感谢审稿人的宝贵意见...
```

## 数据处理流程

### 1. 输入验证
- 检查文件格式和完整性
- 验证数据格式正确性
- 预处理文本内容

### 2. 智能分析
- 提取关键信息和结构
- 建立内容关联映射
- 生成分析摘要

### 3. 回复生成
- 基于模板生成初稿
- 个性化定制内容
- 质量检查和优化

### 4. 输出整理
- 格式化输出文档
- 生成统计报告
- 保存处理历史

## 文件说明

### 核心目录
- `data/`：数据存储目录
- `prompts/`：提示词配置文件
- `workflows/`：工作流程定义
- `analysis/`：分析模块
- `reports/`：报告模板
- `config/`：系统配置

### 重要文件
- `prompts/main_instruction.md`：主指令文件
- `config/settings.json`：系统配置
- `project_structure.md`：项目结构说明

## 使用技巧

### 提高处理质量
1. **预处理输入文件**：确保审稿意见和论文文件格式规范
2. **分阶段执行**：先分析再生成，便于质量控制
3. **人工审核**：重要回复建议人工最终审核

### 处理长文本
1. **分块处理**：对长论文启用分块处理模式
2. **关键信息优先**：优先处理摘要、引言、结论等关键部分
3. **增量更新**：逐步处理，累积上下文信息

### 优化回复质量
1. **定制化模板**：根据研究领域创建专用模板
2. **上下文关联**：确保回复与论文内容紧密相关
3. **多轮优化**：基于反馈持续改进回复质量

## 常见问题

### Q: 支持哪些文件格式？
A: 系统支持多种文件格式，但**强烈推荐使用Markdown格式（.md）**作为AI阅读的最佳格式，具有最高的解析准确性和处理效率。同时也支持PDF、Word（.doc/.docx）、文本文件（.txt）、LaTeX文件（.tex）等格式。

### Q: 如何处理超长论文？
A: 系统会自动启用分块处理模式，按章节逐步处理，确保上下文完整性。

### Q: 可以自定义回复模板吗？
A: 可以在`prompts/templates/`目录下创建自定义模板，系统会自动加载使用。

### Q: 如何确保回复的学术规范性？
A: 系统内置学术写作规范检查，采用"简洁专业"风格避免过度谦卑，同时建议重要回复进行人工最终审核。

### Q: 如何处理审稿人的技术误解？
A: 系统优先识别技术误解，采用"澄清策略"：明确指出已有证据位置，避免重复工作，重点改善展示方式。

### Q: 如何控制修改工作量？
A: 遵循"最小修改原则"：优先处理展示问题而非实质缺陷，用最小修改解决最大关切，避免不必要的额外实验。

## 更新日志

### v1.1.0 (2025-09-20) - 实战优化版
- 🚀 **基于CSBJ第二轮返修实战经验的重大优化**
- ✨ 新增技术澄清策略：优先识别和处理审稿人技术误解
- ✨ 优化回复模板：去除过度谦卑，采用简洁专业风格
- ✨ 增强位置引用：支持"Section X.X, paragraph Y, line ~Z"格式
- ✨ 集成最小修改原则：用最小修改解决最大关切
- ✨ 新增发表导向配置：澄清>修改，展示>重做
- 📄 新增文档：technical_clarification.md, publication_oriented_workflow.md, best_practices.md

### v1.0.0 (2025-09-17)
- ✨ 初始版本发布
- ✨ 核心功能实现：意见提取、内容分析、回复生成
- ✨ 数据统计和报告生成功能
- ✨ 上下文管理和长文本处理支持

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。请遵循以下规范：

1. 在提交前确保已通过所有质量检查
2. 更新相关文档和测试用例
3. 遵循项目的代码规范和设计原则

## 许可证

MIT License - 详见LICENSE文件

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**使用提示**：本项目基于Claude Code构建，充分利用了AI的自然语言处理能力，为学术研究提供智能化的审稿回复支持。请根据实际需要使用相应的功能和指令。